<div class="footer-wrapper">
  <div class="container">
    <div class="row">
      <div class="col-6">
        <div class="footer-social-media-wrapper">
          <h6 class="footer-title">Follow</h6>
          <div class="social-icons">
            <a href="{{ section.settings.facebook_url }}" title="Facebook" target="_blank">
              <img
                src="{{ 'facebook.png' | asset_url }}"
                alt="Facebook"
                class="social-icon-img"
                width="24"
                height="24"
              >
            </a>
            <a href="{{ section.settings.instagram_url }}" title="Instagram" target="_blank">
              <img
                src="{{ 'instagram.png' | asset_url }}"
                alt="Instagram"
                class="social-icon-img"
                width="24"
                height="24"
              >
            </a>
          </div>
          <p class="footer-social-media-description">
            {{ section.settings.demo_text }}
          </p>
        </div>
      </div>
      <div class="col-6">
        <div class="footer-newsletter-wrapper">
          <ul class="footer_menu">
            {% if section.settings.footer_menu != blank and linklists[section.settings.footer_menu] %}
              {% for link in linklists[section.settings.footer_menu].links %}
                <li class="footer-menu-list">
                  <a href="{{ link.url }}">{{ link.title }}</a>
                </li>
              {% endfor %}
            {% else %}
              <li class="footer-menu-list"><a href="#">Contact</a></li>
              <li class="footer-menu-list"><a href="#">Gift cards</a></li>
              <li class="footer-menu-list"><a href="#">Terms of Service</a></li>
            {% endif %}
          </ul>
          <p class="news-letter-info">{{ section.settings.newsletter_text }}</p>
          <div class="newsletter-form-wrapper">
            <input type="email" class="contact-email" name="contact" placeholder="Your@example.com">
            <div class="link-button">Submit</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="footer-copyright" data-copyright="{{ section.settings.copyright_text }}"></div>
</div>

<script>
  function updateFooterCopyright() {
    var copyrightDiv = document.querySelector('.footer-copyright');
    if (copyrightDiv) {
      window.setFooterCopyright(copyrightDiv.getAttribute('data-copyright'));
    }
  }

  document.addEventListener('DOMContentLoaded', updateFooterCopyright);

  // Listen for Shopify section re-render events in the theme editor
  document.addEventListener('shopify:section:load', function(e) {
    // Only update if the footer section was reloaded
    if (e.target && e.target.querySelector && e.target.querySelector('.footer-copyright')) {
      updateFooterCopyright();
    }
  });
</script>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "text",
      "id": "demo_text",
      "label": "Demo text (about shop)",
      "default": "Bringing authentic flavor to your table with premium frozen food, savory sauces, and value-packed family bundles — delivered with care, convenience, and quality you can trust."
    },
    {
      "type": "text",
      "id": "newsletter_text",
      "label": "Newsletter text",
      "default": "Sign up for our mailing list to receive recipes and special savings"
    },

    {
      "type": "header",
      "content": "Social Media Links"
    },
    {
      "type": "url",
      "id": "facebook_url",
      "label": "Facebook URL"
    },
    {
      "type": "url",
      "id": "instagram_url",
      "label": "Instagram URL"
    },
    {
      "type": "header",
      "content": "Footer Menu"
    },
    {
      "type": "link_list",
      "id": "footer_menu",
      "label": "Footer menu"
    },
    {
      "type": "checkbox",
      "id": "show_visa",
      "label": "Show Visa",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_paypal",
      "label": "Show PayPal",
      "default": false
    },
    {
      "type": "text",
      "id": "copyright_text",
      "label": "Copyright text",
      "default": "© %date% Your shop name. Powered by Shopify.",
      "placeholder": "Enter your custom footer text here, use %date% for the year"
    }
  ]
}
{% endschema %}
